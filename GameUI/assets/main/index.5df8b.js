window.__require=function t(e,o,n){function r(i,a){if(!o[i]){if(!e[i]){var l=i.split("/");if(l=l[l.length-1],!e[l]){var s="function"==typeof __require&&__require;if(!a&&s)return s(l,!0);if(c)return c(l,!0);throw new Error("Cannot find module '"+i+"'")}i=l}var p=o[i]={exports:{}};e[i][0].call(p.exports,function(t){return r(e[i][1][t]||t)},p,p.exports,t,e,o,n)}return o[i].exports}for(var c="function"==typeof __require&&__require,i=0;i<n.length;i++)r(n[i]);return r}({AudioManager:[function(t,e,o){"use strict";cc._RF.push(e,"b561fB2inFKfb/PGjnIpSV7","AudioManager");var n,r=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),c=this&&this.__decorate||function(t,e,o,n){var r,c=arguments.length,i=c<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(t,e,o,n);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(i=(c<3?r(i):c>3?r(e,o,i):r(e,o))||i);return c>3&&i&&Object.defineProperty(e,o,i),i};Object.defineProperty(o,"__esModule",{value:!0});var i=cc._decorator,a=i.ccclass,l=i.property,s=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.dropClip=null,e.leveUpClip=null,e}return r(e,t),e.prototype.start=function(){var t=this;cc.game.on("game-ball-drop",function(){cc.audioEngine.playEffect(t.dropClip,!1)}),cc.game.on("game-ball-levelup",function(){cc.audioEngine.playEffect(t.leveUpClip,!1)})},c([l({type:cc.AudioClip})],e.prototype,"dropClip",void 0),c([l({type:cc.AudioClip})],e.prototype,"leveUpClip",void 0),c([a],e)}(cc.Component);o.default=s,cc._RF.pop()},{}],AutoRotationSc:[function(t,e,o){"use strict";cc._RF.push(e,"f8cc9TbhXtP8KO4rqgN1AO4","AutoRotationSc");var n,r=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),c=this&&this.__decorate||function(t,e,o,n){var r,c=arguments.length,i=c<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(t,e,o,n);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(i=(c<3?r(i):c>3?r(e,o,i):r(e,o))||i);return c>3&&i&&Object.defineProperty(e,o,i),i};Object.defineProperty(o,"__esModule",{value:!0});var i=cc._decorator,a=i.ccclass,l=(i.property,function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e.prototype.update=function(t){this.node.angle+=100*t},c([a],e)}(cc.Component));o.default=l,cc._RF.pop()},{}],BackButton:[function(t,e){"use strict";cc._RF.push(e,"e2252WoMJpAz4rA3g5NIqej","BackButton"),cc.Class({extends:cc.Component,properties:{},start:function(){},onLoad:function(){var t=new cc.Component.EventHandler;t.target=this.node,t.component="BackButton",t.handler="callback",t.customEventData="foobar",this.node.getComponent(cc.Button).clickEvents.push(t)},callback:function(t){t.target.getComponent(cc.Button),console.log("=== Back to Home ==="),window.webkit&&window.webkit.messageHandlers.back_home.postMessage("")}}),cc._RF.pop()},{}],BallSc:[function(t,e,o){"use strict";cc._RF.push(e,"78865+Mpe5EM6BE/wT+qO8t","BallSc");var n,r=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),c=this&&this.__decorate||function(t,e,o,n){var r,c=arguments.length,i=c<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(t,e,o,n);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(i=(c<3?r(i):c>3?r(e,o,i):r(e,o))||i);return c>3&&i&&Object.defineProperty(e,o,i),i};Object.defineProperty(o,"__esModule",{value:!0});var i=t("./GameSc"),a=cc._decorator,l=a.ccclass,s=a.property,p=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.BallIndex=1,e.isContacted=!1,e.isSkip=!1,e.isDrop=!1,e.position={x:-1,y:-1,dy:100,dx:10},e}var o;return r(e,t),o=e,e.prototype.start=function(){this.getComponent(cc.PhysicsCollider).restitution=.1},e.prototype.update=function(){this.isDrop&&this.isContacted&&(this.position.dx=Math.abs(this.node.x-this.position.x),this.position.dy=Math.abs(this.node.y-this.position.y),this.position.x=this.node.x,this.position.y=this.node.y)},e.prototype.onBeginContact=function(t,e,n){if(n.getComponent(o)){if(this.isContacted=!0,n.getComponent(o).BallIndex==e.getComponent(o).BallIndex&&!n.getComponent(o).isSkip&&!e.getComponent(o).isSkip){var r=e,c=n;n.node.y<=e.node.y&&(r=n,c=e),c.getComponent(o).isSkip=!0,cc.find("Canvas/GameSc").getComponent(i.default).BallLevelUp(r.node,c.node)}}else this.isDrop||(this.isDrop=!0,cc.game.emit("game-ball-drop"))},c([s],e.prototype,"BallIndex",void 0),o=c([l],e)}(cc.Component);o.default=p,cc._RF.pop()},{"./GameSc":"GameSc"}],GameSc:[function(t,e,o){"use strict";cc._RF.push(e,"a24e3sZyp9GJoX+eE54dcEO","GameSc");var n,r=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),c=this&&this.__decorate||function(t,e,o,n){var r,c=arguments.length,i=c<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(t,e,o,n);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(i=(c<3?r(i):c>3?r(e,o,i):r(e,o))||i);return c>3&&i&&Object.defineProperty(e,o,i),i};Object.defineProperty(o,"__esModule",{value:!0});var i,a=t("./BallSc"),l=cc._decorator,s=l.ccclass,p=l.property;(function(t){t[t.start=0]="start",t[t.gaming=1]="gaming",t[t.over=2]="over"})(i||(i={}));var f=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.scoreLabel=null,e.ballsLayer=null,e.waterEffectPrefab=null,e.ballsPrefab=[],e.deadLine=null,e.randomArray=[0,0,0,0,1,1,2,3],e.currentBall=null,e._gameState=i.gaming,e._winner=!1,e._score=0,e.ballColors=[(new cc.Color).fromHEX("#862274"),(new cc.Color).fromHEX("#ff0925"),(new cc.Color).fromHEX("#ff8e1c"),(new cc.Color).fromHEX("#ffe614"),(new cc.Color).fromHEX("#6de42e"),(new cc.Color).fromHEX("#e61933"),(new cc.Color).fromHEX("#fab36d"),(new cc.Color).fromHEX("#ffe350"),(new cc.Color).fromHEX("#fffaea"),(new cc.Color).fromHEX("#fc7b97"),(new cc.Color).fromHEX("#52d135")],e}return r(e,t),Object.defineProperty(e.prototype,"score",{get:function(){return this._score},set:function(t){this._score=t,this.scoreLabel.string=t.toFixed(0)},enumerable:!1,configurable:!0}),e.prototype.showAd=function(){window.webkit&&window.webkit.messageHandlers.ad.postMessage("")},e.prototype.onLoad=function(){cc.director.getPhysicsManager().enabled=!0,cc.director.getPhysicsManager().gravity=cc.v2(0,-1280)},e.prototype.start=function(){this.showAd(),this.node.on(cc.Node.EventType.TOUCH_END,this.onTouchEnd,this),this.node.on(cc.Node.EventType.TOUCH_MOVE,this.onTouchMove,this),this.CreateNewBall(),this.deadLine.active=!1,cc.tween(this.deadLine).repeatForever(cc.tween(this.deadLine).to(.3,{opacity:0}).to(.3,{opacity:255})).start()},e.prototype.onTouchEnd=function(t){var e=this;if(this._gameState===i.gaming&&this.currentBall){var o=this.currentBall;this.currentBall=null;var n=this.ballsLayer.convertToNodeSpaceAR(t.getLocation()).x;n>360-o.width/2?n=360-o.width/2:n<o.width/2-360&&(n=o.width/2-360),cc.tween(o).to(Math.abs(.001*n),{x:n}).call(function(){o.getComponent(cc.RigidBody).type=cc.RigidBodyType.Dynamic,o.getComponent(cc.RigidBody).linearVelocity=cc.v2(0,-300),e.CreateNewBall()}).start()}},e.prototype.onTouchMove=function(t){if(this._gameState==i.gaming&&this.currentBall){var e=this.ballsLayer.convertToNodeSpaceAR(t.getLocation()).x;e>360-this.currentBall.width/2?e=360-this.currentBall.width/2:e<this.currentBall.width/2-360&&(e=this.currentBall.width/2-360),this.currentBall.x=e}},e.prototype.CreateNewBall=function(){var t=this,e=this.randomArray[Math.floor(Math.random()*this.randomArray.length)],o=cc.instantiate(this.ballsPrefab[e]);o.y=566,o.getComponent(cc.RigidBody).type=cc.RigidBodyType.Static,o.scale=0,cc.tween(o).delay(.2).call(function(){t.ballsLayer.addChild(o)}).to(.2,{scale:1}).call(function(){t.currentBall=o}).start()},e.prototype.BallLevelUp=function(t,e){var o=this,n=t.getComponent(a.default).BallIndex+1;n<=this.ballsPrefab.length&&(cc.game.emit("game-ball-levelup"),e.getComponent(cc.PhysicsCollider).enabled=!1,cc.tween(e).to(.15,{x:t.x,y:t.y}).removeSelf().call(function(){var e=cc.instantiate(o.ballsPrefab[n-1]);e.position=t.position,o.ballsLayer.addChild(e),t.removeFromParent(!0);var r=cc.instantiate(o.waterEffectPrefab);r.x=e.x,r.y=e.y,r.color=o.ballColors[n-1],o.ballsLayer.addChild(r),n==o.ballsPrefab.length&&0==o._winner&&(o._winner=!0,cc.find("Canvas/WinUI").active=!0)}).start(),this.score+=t.getComponent(a.default).BallIndex,this.randomArray.findIndex(function(t){return t==n-1})<0&&(this.randomArray=this.randomArray.concat(JSON.parse(JSON.stringify(this.randomArray))).sort(function(t,e){return t-e}),console.log(this.randomArray),this.randomArray.push(n-1)))},e.prototype.update=function(){if(this._gameState==i.gaming){for(var t=!1,e=!1,o=0,n=this.ballsLayer.getComponentsInChildren(a.default);o<n.length;o++){var r=n[o];r.position.dy>=100||r.position.dx>=10||(r.node.y>=this.deadLine.y-r.node.height/2&&(t=!0),r.node.y>=this.deadLine.y&&(e=!0))}this.deadLine.active=t,e&&(this._gameState=i.over,console.log("Game Over"),cc.find("Canvas/OverUI").active=!0)}},e.prototype.replay=function(){var t=this;this.showAd(),cc.find("Canvas/OverUI").active=!1,this._gameState=i.start;for(var e=this.ballsLayer.getComponentsInChildren(a.default),o=function(o){if(e[o].node==n.currentBall)return"continue";cc.tween(e[o].node).delay(.1*o).call(function(){var n=cc.instantiate(t.waterEffectPrefab);n.x=e[o].node.x,n.y=e[o].node.y,n.color=t.ballColors[e[o].BallIndex-1],t.ballsLayer.addChild(n)}).removeSelf().start()},n=this,r=e.length-1;r>=0;r--)o(r);cc.tween(this).delay(.1*e.length).call(function(){t._gameState=i.gaming}).start(),this.score=0,this._winner=!1},e.prototype.closeWin=function(){cc.find("Canvas/WinUI").active=!1},c([p(cc.Label)],e.prototype,"scoreLabel",void 0),c([p(cc.Node)],e.prototype,"ballsLayer",void 0),c([p(cc.Prefab)],e.prototype,"waterEffectPrefab",void 0),c([p([cc.Prefab])],e.prototype,"ballsPrefab",void 0),c([p(cc.Node)],e.prototype,"deadLine",void 0),c([s],e)}(cc.Component);o.default=f,cc._RF.pop()},{"./BallSc":"BallSc"}],WaterEffectSc:[function(t,e,o){"use strict";cc._RF.push(e,"cd5d8rJ+QRIdpg05zYhfmq5","WaterEffectSc");var n,r=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),c=this&&this.__decorate||function(t,e,o,n){var r,c=arguments.length,i=c<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(t,e,o,n);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(i=(c<3?r(i):c>3?r(e,o,i):r(e,o))||i);return c>3&&i&&Object.defineProperty(e,o,i),i};Object.defineProperty(o,"__esModule",{value:!0});var i=cc._decorator,a=i.ccclass,l=(i.property,function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e.prototype.start=function(){this.node.scale=0,cc.tween(this.node).to(.2,{scale:1},{easing:cc.easeBackOut().easing}).delay(.5).to(.5,{opacity:0}).removeSelf().start(),this.node.angle=360*Math.random()},c([a],e)}(cc.Component));o.default=l,cc._RF.pop()},{}]},{},["AudioManager","AutoRotationSc","BackButton","BallSc","GameSc","WaterEffectSc"]);